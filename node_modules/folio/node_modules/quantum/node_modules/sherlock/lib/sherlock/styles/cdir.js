var inspect = require('../inspect')
  , _ = require('../utils');

module.exports = function (obj) {
  var meta = inspect(obj)
    , buf = '';

  meta.forEach(function (line) {
    var delim = (~['object', 'array'].indexOf(line.type))
        ? 'â–¾ '
        : ''
      , desc = line.description;

    if ('string' === line.type) desc = _.colorize('"' + desc + '"', 'green');
    if ('number' === line.type) desc = _.colorize(desc, 'magenta');
    if ('boolean' === line.type) desc = _.colorize(desc, 'cyan');

    var print = ('undefined' !== typeof line.key)
        ? _.colorize(line.key + ': ', 'gray')
          + delim + _.colorize(desc, 'blue')
        : delim + _.colorize(desc, 'blue');
    buf += ws(line.depth) + print + '\n';
  });

  return buf;
}

function ws (d) {
  return Array(d + 2).join('  ');
}
